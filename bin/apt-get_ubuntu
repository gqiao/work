#!/bin/sh

banner () {
    echo ""
    echo "vvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvvv"
    echo ">> $*"
    echo "^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^"
    echo ""
}

DISTRIBUTION_NAME=`lsb_release -sc`
EXPIRED="0"

if cat /etc/apt/sources.list | grep -q "canonical"; then
    banner "already added canonical in sources.list"
else
    sudo add-apt-repository "deb http://archive.canonical.com/ ${DISTRIBUTION_NAME} partner"
    EXPIRED="1"
fi


if cat /etc/apt/sources.list | grep -q "bouml"; then
    banner "already added bouml in sources.list"
else
    wget -q http://www.bouml.fr/bouml_key.asc -O- | sudo apt-key add -
    echo "deb http://www.bouml.fr/apt/${DISTRIBUTION_NAME} ${DISTRIBUTION_NAME} non-free" | sudo tee -a /etc/apt/sources.list
    EXPIRED="1"
fi

if [ ${EXPIRED} = "1" ]; then
    sudo apt-get update -y
fi

GET="sudo apt-get install -y "

PACKAGES="tmux skype mysql-server-5.5 mysql-client-core-5.5 mysql-server-core-5.5 libcurl4-openssl-dev apache2-prefork-dev libapr1-dev libaprutil1-dev nodejs seahorse xclip libxml2 ant toilet emacs stardict libopenssl-ruby libfcgi-dev ruby rubygems ruby-dev sqlite3 sqlite libsqlite3-dev chromium-browser flex bison gperf zip curl zlib1g-dev gcc-multilib g++-multilib x11proto-core-dev libx11-dev java-common unixodbc unrar unzip axel meld bouml ckermit sharutils kpartx sdcv mplayer cscope libgmp-dev libiconv-hook-dev libintl-perl libltdl-dev libunistring-dev libgc-dev libffi-dev samba nfs-common git-core git-doc git-arch git-cvs git-svn git-email git-daemon-run git-gui gitk gitweb build-essential libncurses-dev kernel-package fakeroot initramfs-tools module-init-tools libncurses5-dev libncurses5-dev wget bzip2 libqt3-headers libqt3-mt-dev libqt3-compat-headers crash kexec-tools makedumpfile kernel-wedge libelf-dev libdw-dev binutils-dev asciidoc openssh-server vim g++ libssl-dev cgdb subversion fop doxygen-gui libboost-all-dev automake gnupg libreadline-dev libyaml-dev libcurl4-dev apache2-dev"

for i in ${PACKAGES}; do
    banner "${i}"
    ${GET} ${i};
done

#axel http://skype.tom.com/download/linux/skype-ubuntu_2.2.0.25-1_amd64.deb

# wget ftp://ftp.gnu.org/gnu/m4/m4-1.4.10.tar.gz
# tar zxf m4-1.4.10.tar.gz
# cd m4-1.4.10
# ./configure --prefix=/usr/local/m4
# make
#sudo make install

# wget http://ftp.gnu.org/gnu/bison/bison-2.3.tar.gz
# tar zxf bison-2.3.tar.gz
# cd bison-2.3
# ./configure --prefix=/usr/local/bison
# make
#sudo make install
